# 1、命令模式
## 1.1 命令模式实现菜单程序
```
	<body>
        <button id="botton1">点击按钮1</button>
        <button id="botton2">点击按钮2</button>
        <button id="botton3">点击按钮3</button>
    </body>
    <script>
        var button1 = document.getElementById('botton1');
        var button2 = document.getElementById('botton2');
        var button3 = document.getElementById('botton3');
    </srcipt>
```
定义`setCommand`函数，负责往按钮上添加命令；
```
var setCommand = function(button,command) {
	button.onclick = function() {
		command.execute();
	}
}
```
按钮后面的行为被封装在下面的两个对象中：
```
var MenBar = {
	refresh:function() {
		// 刷新菜单的操作
	}
};
var SubMenu = {
	add:function() {
		// 添加菜单的操作
	},
	del:function() {
		// 删除菜单的操作
	}
}
```
在让button变得有用起来之前，我们先要把这些行为都封装在命令类中：
```
// 刷新
var RefreshMenuBarCommand = function(receiver) {
	this.receiver = receiver;
};
RefreshMenuBarCommand.prototype.execute = function() {
	this.receiver.refresh();
};
// 添加
var AddMenuCommand = function (receiver) {
	this.receiver = receiver;
};
AddMenuCommand.prototype.execute = function() {
	this.receiver.add();
};
// 删除
var DelMenuCommand = function(receiver) {
	this.receiver = receiver;
};
DelMenuCommand.prototype.execute = funciton() {
	this.receiver.del();
};
```
最后把命令接收者传入到command对象中，并且把command对象安装到`button`上面：
```
var refreshMenuBarCommand = new RefreshMenuBarCommand(MenBar);
var addMenuCommand = new AddMenuCommand(SubMenu);
var delMenuCommand = new DelMenuCommand(SubMenu);
setCommand(button1,refreshMenuBarCommand);
setCommand(button2,addMenuCommand);
setCommand(button3,delMenuCommand);
```
